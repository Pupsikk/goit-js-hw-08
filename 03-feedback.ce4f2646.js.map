{"mappings":"YAAA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,yBAG1BG,EAAc,sBAEhBC,EAAW,IAuCf,WACE,GAAIC,aAAaC,QAAQH,GAAc,CACrC,IAAMI,EAAcF,aAAaC,QAAQH,GACzCC,EAAWI,KAAKC,MAAMF,GAEtBG,QAAQC,IAAIJ,GACZV,EAAKC,KAAKc,MAAMC,MAAQT,EAASQ,MAAQR,EAASQ,MAAQ,GAC1Df,EAAKC,KAAKgB,QAAQD,MAAQT,EAASU,QAAUV,EAASU,QAAU,IA5CpEC,GAEAlB,EAAKC,KAAKkB,iBAAiB,UAgBF,SAAHC,GACpBA,EAAEC,iBAEF,IAEmBC,EAAfF,EAAEG,cADJC,SAAYT,EAAKO,EAALP,MAAOE,EAAOK,EAAPL,QAErB,GAAoB,KAAhBF,EAAMC,OAAkC,KAAlBC,EAAQD,MAChC,OAAOS,MAAM,mCAGWd,KAArBC,MAAMJ,aAAaC,QAAQH,IAEhCO,QAAQC,IAAIP,GACZa,EAAEG,cAAcG,QAChBlB,aAAamB,WAAWrB,MA7B1BN,EAAKC,KAAKkB,iBAAiB,QAASS,UAIV,SAATR,GAGfb,EAASa,EAAES,OAAOC,MAAQV,EAAES,OAAOb,MAEnC,IAAMe,EAAsBpB,KAAKqB,UAAUzB,GAC3CC,aAAayB,QAAQ3B,EAAayB,KAVkB,M","sources":["src/js/03-feedback.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('.feedback-form input'),\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet formData = {};\n\nrefreshTextarea();\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onInput, 500));\n\n\n// Записывает значение инпутов в LocalStorage\nfunction onInput(e) {\n  // console.log(e.target.name);\n  // console.log(e.target.value);\n  formData[e.target.name] = e.target.value;\n  // console.log(formData);\n  const formDatatoStringify = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, formDatatoStringify);\n}\n\n\n//  Чистит LocalStorage и инпуты после события submit\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = e.currentTarget;\n  if (email.value === '' || message.value === '') {\n    return alert('Все поля должны быть заполнены!');\n  }\n\n  JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  console.log(formData);\n  e.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n\n// Обновляет значение инпутов при перезагрузке страницы\nfunction refreshTextarea() {\n  if (localStorage.getItem(STORAGE_KEY)) {\n    const savedInputs = localStorage.getItem(STORAGE_KEY);\n    formData = JSON.parse(savedInputs);\n\n    console.log(savedInputs);\n    refs.form.email.value = formData.email ? formData.email : '';\n    refs.form.message.value = formData.message ? formData.message : '';\n  }\n}"],"names":["$b00c40859be242c5$var$refs","form","document","querySelector","textarea","input","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","localStorage","getItem","savedInputs","JSON","parse","console","log","email","value","message","$b00c40859be242c5$var$refreshTextarea","addEventListener","e","preventDefault","_elements","currentTarget","elements","alert","reset","removeItem","throttle","target","name","formDatatoStringify","stringify","setItem"],"version":3,"file":"03-feedback.ce4f2646.js.map"}