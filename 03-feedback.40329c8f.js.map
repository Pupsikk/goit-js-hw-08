{"mappings":"AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,yBAKhC,IAAIG,EAAW,IAuCf,WACE,GAAIC,aAAaC,QA1CC,uBA0CqB,CACrC,MAAMC,EAAcF,aAAaC,QA3CjB,uBA4ChBF,EAAWI,KAAKC,MAAMF,GAEtBG,QAAQC,IAAIJ,GACZT,EAAKC,KAAKa,MAAMC,MAAQT,EAASQ,MAAQR,EAASQ,MAAQ,GAC1Dd,EAAKC,KAAKe,QAAQD,MAAQT,EAASU,QAAUV,EAASU,QAAU,IA5CpEC,GAEAjB,EAAKC,KAAKiB,iBAAiB,UAgBF,SAAHC,GACpBA,EAAEC,iBAEF,MACEC,UAAUP,MAAEA,EAAKE,QAAEA,IACjBG,EAAEG,cACN,GAAoB,KAAhBR,EAAMC,OAAkC,KAAlBC,EAAQD,MAChC,OAAOQ,MAAM,mCAGWb,KAArBC,MAAMJ,aAAaC,QAhCN,wBAkClBI,QAAQC,IAAIP,GACZa,EAAEG,cAAcE,QAChBjB,aAAakB,WApCK,0BAOpBzB,EAAKC,KAAKiB,iBAAiB,QAASQ,UAIV,SAATP,GAGfb,EAASa,EAAEQ,OAAOC,MAAQT,EAAEQ,OAAOZ,MAEnC,MAAMc,EAAsBnB,KAAKoB,UAAUxB,GAC3CC,aAAawB,QAjBK,sBAiBgBF,KAVkB","sources":["src/js/03-feedback.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('.feedback-form input'),\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet formData = {};\n\nrefreshTextarea();\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onInput, 500));\n\n\n// Записывает значение инпутов в LocalStorage\nfunction onInput(e) {\n  // console.log(e.target.name);\n  // console.log(e.target.value);\n  formData[e.target.name] = e.target.value;\n  // console.log(formData);\n  const formDatatoStringify = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, formDatatoStringify);\n}\n\n\n//  Чистит LocalStorage и инпуты после события submit\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = e.currentTarget;\n  if (email.value === '' || message.value === '') {\n    return alert('Все поля должны быть заполнены!');\n  }\n\n  JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  console.log(formData);\n  e.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n\n// Обновляет значение инпутов при перезагрузке страницы\nfunction refreshTextarea() {\n  if (localStorage.getItem(STORAGE_KEY)) {\n    const savedInputs = localStorage.getItem(STORAGE_KEY);\n    formData = JSON.parse(savedInputs);\n\n    console.log(savedInputs);\n    refs.form.email.value = formData.email ? formData.email : '';\n    refs.form.message.value = formData.message ? formData.message : '';\n  }\n}"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","textarea","input","$945622fd0f572e60$var$formData","localStorage","getItem","savedInputs","JSON","parse","console","log","email","value","message","$945622fd0f572e60$var$refreshTextarea","addEventListener","e","preventDefault","elements","currentTarget","alert","reset","removeItem","throttle","target","name","formDatatoStringify","stringify","setItem"],"version":3,"file":"03-feedback.40329c8f.js.map"}